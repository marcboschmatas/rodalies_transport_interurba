library(tidyverse)
library(datapasta)
library(viridis)

secs <- data.frame(
  stringsAsFactors = FALSE,
       check.names = FALSE,
            sector = c("Agricultura", "Indústria", "Serveis", "Construcció"),
            `2000` = c(0.015218839387171,
                       0.245531131225265,0.566474667920536,0.086172171936836),
            `2001` = c(0.015888778550149,
                       0.24311437583971,0.564270693381623,0.091221741924178),
            `2002` = c(0.01399823223499,
                       0.229795747771451,0.576901203861676,0.093568213118461),
            `2003` = c(0.013282441773631,
                       0.218703924734957,0.584714660471172,0.094387673689787),
            `2004` = c(0.011428167903443,
                       0.211780075442385,0.586549834933002,0.09659803096551),
            `2005` = c(0.011172180127573,
                       0.19768930335928,0.59117773625811,0.10231450967148),
            `2006` = c(0.010680230777342,
                       0.190431477306393,0.591851491064659,0.107319498074345),
            `2007` = c(0.009649271593072,
                       0.186035883228737,0.607390550498483,0.105378715063794),
            `2008` = c(0.009106465636851,
                       0.183026547035427,0.630871334751642,0.105327906761632),
            `2009` = c(0.009665736679996,
                       0.168229269920169,0.663164307852988,0.103272038024689),
            `2010` = c(0.008749095127833,
                       0.175638683944332,0.664336770649063,0.078233689529371),
            `2011` = c(0.008817275524261,
                       0.176777494588199,0.676904689907411,0.066832740555148),
            `2012` = c(0.008886443836485,
                       0.174170334245272,0.691388128940169,0.053333531580826),
            `2013` = c(0.009889297428187,
                       0.176841280001588,0.689635837662692,0.045511608635892),
            `2014` = c(0.009351085428705,
                       0.179827815086678,0.689603506168983,0.043812470716852),
            `2015` = c(0.00865513272763,
                       0.184097012341751,0.68288061530976,0.043879183704023),
            `2016` = c(0.008736528937505,
                       0.182640193426032,0.681615538797559,0.045534213577573),
            `2017` = c(0.009022899645544,
                       0.181142785771813,0.680485987587591,0.046367798369418),
            `2018` = c(0.008515744610419,
                       0.179045806264741,0.68075888608433,0.047407621963835),
            `2019` = c(0.008795518207283,
                       0.177138855542217,0.683241296518607,0.048583433373349),
            `2020` = c(0.010293363078639,
                       0.18307194645845,0.68282877858338,0.047210262130508)
)
 
secs <- secs %>%
  pivot_longer(cols = -sector, names_to = "any", values_to = "pct_pib")

ggplot(secs) + 
  geom_line(aes(y = pct_pib, x = as.numeric(`any`), colour = sector, group = sector), size = 1) + 
  scale_colour_viridis_d() + 
  theme_minimal() + 
  labs(title = "Evolució del pes dels sectors de producció en el PIB català 2002-2020",
       y = "pes en el PIB",
       x = "any",
       caption = "Font: elaboració pròpia amb dades de l'IDESCAT")